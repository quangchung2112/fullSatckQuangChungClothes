"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[284],{70414:function(e,n,r){var a=r(7653),s=r(11971),l=r(66476),i=r(95406),d=r(77530),o=r(53193);n.Z=function(){let{profile:e}=(0,s.O)(e=>e),{selectedCity:n,selectedDistrict:r,selectedWard:c,handleAddressPopup:u,addressPopupType:f,setAddressBooksList:x,setAddressMobileScreen:h,deleteAddressData:m,setIsDeleteAddressMobilePopupOpen:b,setDeleteAddressData:v,setIsCreateNewAddressBook:g}=(0,i.J)(),y=(0,a.useCallback)(a=>({...a,type:"normal",customer_id:null==e?void 0:e.id,city:null==n?void 0:n.label,district:null==r?void 0:r.label,ward:null==c?void 0:c.label,deleted:!1}),[e,n,r,c]),w=(0,a.useCallback)(async n=>{try{if(!e||!e.id){(0,l.toastError)("Kh\xf4ng c\xf3 th\xf4ng tin đăng nhập. Vui l\xf2ng kiểm tra lại.");return}let r=y(n),a=await (0,d.mG)(r);if(!a)return;g(!0),(0,l.toastSuccess)("Th\xeam địa chỉ th\xe0nh c\xf4ng"),u(!1,"create"),h("list"),await P()}catch(e){throw e}},[e,y]),A=(0,a.useCallback)(async n=>{try{if(!e||!e.id){(0,l.toastError)("Kh\xf4ng c\xf3 th\xf4ng tin đăng nhập. Vui l\xf2ng kiểm tra lại.");return}let r=y(n),a=await (0,d.Kw)(r);if(!a)return;(0,l.toastSuccess)("Sửa địa chỉ th\xe0nh c\xf4ng"),h("list"),u(!1,"update"),await P()}catch(e){throw e}},[e,y]),j=(0,a.useCallback)(e=>{"create"===f?w(e).then():"update"===f&&A(e).then()},[w,A,f]),_=(0,a.useCallback)(async()=>{if(!m||!m.id){(0,l.toastError)("Kh\xf4ng c\xf3 th\xf4ng tin địa chỉ. Vui l\xf2ng kiểm tra lại.");return}let e=await (0,d.hj)(m.id);e&&((0,l.toastSuccess)("X\xf3a địa chỉ th\xe0nh c\xf4ng"),u(!1,"delete"),b(!1),v(void 0),h("list"),await P())},[m]),P=(0,a.useCallback)(async()=>{let n=null==e?void 0:e.id;if(!n)return;let r=await (0,d.iP)(n),a=r&&r.length?r.filter(e=>(null==e?void 0:e.id)&&(null==e?void 0:e.customer_name)&&(null==e?void 0:e.customer_phone)&&(null==e?void 0:e.city)&&(null==e?void 0:e.city_id)&&(null==e?void 0:e.district)&&(null==e?void 0:e.district_id)&&(null==e?void 0:e.ward)&&(null==e?void 0:e.ward_id)):r,s=(0,o.L$)(a);x(s)},[null==e?void 0:e.id]);return{handleSubmitAddressForm:j,getAddressBooksList:P,handleDeleteAddress:_}}},95406:function(e,n,r){r.d(n,{J:function(){return s}});var a=r(13265);let s=(0,a.Ue)((e,n)=>({addressBooksList:[],setAddressBooksList(n){e({addressBooksList:n})},isLoading:!1,setIsLoading(n){e({isLoading:n})},addressPopupType:"create",setAddressPopupType(n){e({addressPopupType:n})},isAddressPopupOpen:!1,setIsAddressPopupOpen(n){e({isAddressPopupOpen:n})},isDefaultAddress:!1,setIsDefaultAddress(n){e({isDefaultAddress:n})},addressMobileScreen:"list",setAddressMobileScreen(n){e({addressMobileScreen:n})},isSelectCityPopupOpen:!1,setIsSelectCityPopupOpen(n){e({isSelectCityPopupOpen:n})},isDetailAddressMobilePopupOpen:!1,setIsDetailAddressMobilePopupOpen(n){e({isDetailAddressMobilePopupOpen:n})},detailAddressInputValue:"",setDetailAddressInputValue(n){e({detailAddressInputValue:n})},isDeleteAddressMobilePopupOpen:!1,setIsDeleteAddressMobilePopupOpen(n){e({isDeleteAddressMobilePopupOpen:n})},cities:[],setCities(n){e({cities:n})},districts:[],setDistricts(n){e({districts:n})},wards:[],setWards(n){e({wards:n})},selectedCity:null,setSelectedCity(n){e({selectedCity:n})},selectedDistrict:null,setSelectedDistrict(n){e({selectedDistrict:n})},selectedWard:null,setSelectedWard(n){e({selectedWard:n})},addressUpdateData:void 0,setAddressUpdateData(n){e({addressUpdateData:n})},deleteAddressData:void 0,setDeleteAddressData(n){e({deleteAddressData:n})},handleAddressPopup(n,r){e({isAddressPopupOpen:n,addressPopupType:r})},handleResetAddressBookPopup(){e({selectedCity:void 0})},isCreateNewAddressBook:!1,setIsCreateNewAddressBook(n){e({isCreateNewAddressBook:n})},fullAddress:"",setFullAddress(n){e({fullAddress:n})}}))},53193:function(e,n,r){r.d(n,{L$:function(){return sortAddressBooksList},ev:function(){return getAddressPopupLabel},hk:function(){return convertWardDistrictCityName}});let getAddressPopupLabel=e=>{switch(e){case"create":default:return"Th\xeam địa chỉ";case"update":return"Sửa địa chỉ";case"delete":return"Bạn có chắc chắn mu\xf4́n xoá địa chỉ này ?"}},convertWardDistrictCityName=(e,n,r)=>(e?e+", ":"")+(n?n+", ":"")+(r||""),sortAddressBooksList=e=>{null==e||e.sort(function(e,n){let r=new Date(e.created_at||""),a=new Date(n.created_at||"");return a-r});let n=null==e?void 0:e.find(e=>e.default_address);if(!n)return e;let r=e.indexOf(n);return e.splice(r,1),e.unshift(n),e}},77530:function(e,n,r){r.d(n,{Kw:function(){return updateUserAddressApi},hj:function(){return deleteUserAddressApi},iP:function(){return getAddressBooksApi},mG:function(){return createUserAddressApi}});var a=r(10242),s=r(57826);let getAddressBooksApi=async e=>{try{let n=await a.U.get("".concat(s.dk,"/api/account/address"),{params:{customer_id:e}});return null==n?void 0:n.data}catch(e){}};async function createUserAddressApi(e){try{let n=await a.U.post("".concat(s.dk,"/api/account/address"),e);return null==n?void 0:n.data}catch(e){throw e}}async function updateUserAddressApi(e){try{let n=await a.U.put("".concat(s.dk,"/api/account/address"),e,{params:{address_id:e.id}});return null==n?void 0:n.data}catch(e){throw e}}async function deleteUserAddressApi(e){try{let n=await a.U.delete("".concat(s.dk,"/api/account/address"),{params:{address_id:e}});return null==n?void 0:n.data}catch(e){throw e}}},2202:function(e,n,r){r.d(n,{u:function(){return getDistrictsApi}});var a=r(57826),s=r(56310);let getDistrictsApi=async e=>{try{let n=await (0,s.E)("".concat(a.WS,"/admin/v3/content/public/cities/").concat(e,"/districts.json"));if(!n.ok)throw n;return null==n?void 0:n.json()}catch(e){throw e}}},40546:function(e,n,r){r.d(n,{O:function(){return getWardsApi}});var a=r(57826),s=r(56310);let getWardsApi=async e=>{try{let n=await (0,s.E)("".concat(a.WS,"/admin/v3/content/public/districts/").concat(e,"/wards.json"));if(!n.ok)throw n;return null==n?void 0:n.json()}catch(e){throw e}}},25165:function(e,n,r){r.d(n,{X:function(){return o}});var a=r(27573),s=r(7653),l=r(26655);let i={small:"w-4 h-4",medium:"w-5 h-5",large:"w-6 h-6"},d=(0,s.forwardRef)((e,n)=>{let{leadingLabel:r,trailingLabel:d,size:o="medium",disabled:c,value:u,onChange:f,className:x,checkboxIconClassName:h="",bgClassName:m,sizeClassNameProp:b,...v}=e,[g,y]=(0,s.useState)(u||!1),handleOnChange=e=>{c||(f&&f(e),y(e))},w=void 0===u?g:u;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"inline-flex flex-row items-center cursor-pointer select-none".concat(x?" ".concat(x):""),onClick:()=>handleOnChange(!w),children:[r&&(0,a.jsx)("div",{className:"pr-2 text-yd-label-4 text-yd-typo-label",children:r}),c?(0,a.jsxs)(a.Fragment,{children:[!0===w&&(0,a.jsx)("div",{className:"".concat(i[o]," rounded border border-yd-line-normal bg-yd-disabled inline-flex items-center justify-center"),children:(0,a.jsx)(l.SN$,{size:"medium"===o?20:16,className:"text-yd-typo-placeholder"})}),!1===w&&(0,a.jsx)("div",{className:"".concat(i[o]," rounded border border-yd-line-normal bg-yd-disabled")}),"indeterminate"===w&&(0,a.jsx)("div",{className:"".concat(i[o]," rounded border border-yd-line-normal bg-yd-disabled inline-flex items-center justify-center"),children:(0,a.jsx)(l.sE_,{size:"medium"===o?20:16,className:"text-yd-typo-placeholder"})})]}):(0,a.jsxs)(a.Fragment,{children:[!0===w&&(0,a.jsx)("div",{className:"".concat(i[o]," ").concat(m||"bg-yd-typo-title"," rounded  inline-flex items-center justify-center ").concat(h),children:(0,a.jsx)(l.SN$,{size:"medium"===o?18:16,className:"text-white"})}),!1===w&&(0,a.jsx)("div",{className:"".concat(i[o]," rounded border border-yd-line-normal ").concat(h)}),"indeterminate"===w&&(0,a.jsx)("div",{className:"".concat(i[o]," rounded bg-yd-typo-title inline-flex items-center justify-center"),children:(0,a.jsx)(l.sE_,{size:"medium"===b?18:16,className:"text-white"})})]}),d&&(0,a.jsx)("div",{className:"pl-3 text-yd-label-4 text-yd-typo-label",children:d})]}),(0,a.jsx)("input",{value:w.toString(),type:"checkbox",ref:n,...v,disabled:c,className:"hidden"})]})});var o=d},96493:function(e,n,r){var a=r(27573),s=r(41709);n.Z=e=>{let{children:n,status:r,className:l,...i}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.Z,{className:"text-yd-subtitle-4".concat((()=>{switch(r){case"success":return" text-yd-alert-success-sub";case"error":return" text-yd-alert-error-sub";default:return" text-yd-typo-subtitle"}})()).concat(l?" ".concat(l):""),...i,children:n})})}},97029:function(e,n,r){r.d(n,{Z:function(){return f}});var a=r(27573),s=r(7653),l=r(88742),i=r(99577),d=r(41709),o=r(26655),Input_ClearButton=e=>{let{value:n,Icon:r,iconProps:s,className:i,...d}=e,c=(0,l.O2)(n);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("button",{type:"button",className:"".concat(c?"scale-0":"hover:scale-110 active:scale-100"," inline-block focus-visible:outline-none visited:outline-none opacity-60 group-hover:opacity-100 transition-all duration-200 hover:duration-75 ").concat(i),...d,children:r?(0,a.jsx)(r,{color:"#0F0F0F",size:20,...s}):(0,a.jsx)(o.cIp,{color:"#0F0F0F",size:20,...s})})})},c=r(96493);let u=(0,s.forwardRef)((e,n)=>{var r,o;let{label:u,labelWrapperClassName:f="",helperText:x,type:h="text",wrapperProps:m,isFullWidth:b,className:v,status:g="default",size:y="medium",isClearable:w,isBordered:A=!0,clearButtonProps:j,helperTextProps:_,value:P,onChange:N,leadingIcon:T,LeadingIcon:C,trailingIcon:E,TrailingIcon:I,leadingIconProps:k,trailingIconProps:O,autoFocus:S,...D}=e,F=(0,s.useRef)({target:{value:D.defaultValue}}),R=(0,l.V2)(b),handleOnChange=e=>{N&&N(e),F.current=e},z=P||(null===(o=F.current)||void 0===o?void 0:null===(r=o.target)||void 0===r?void 0:r.value);return(0,a.jsxs)(a.Fragment,{children:[u&&(0,a.jsx)("div",{className:"pb-2 ".concat(f),children:(0,a.jsx)(d.Z,{htmlElementTag:"span",className:"text-yd-heading-8 text-yd-gray-160",children:u})}),(0,a.jsxs)("div",{className:"relative group inline-block hover:border-0 ".concat(R),...m,children:[C&&(0,a.jsx)("div",{className:"absolute h-5 w-auto left-0 top-1/2 -translate-y-1/2 pl-4",children:(0,a.jsx)(C,{size:20,color:"#0F0F0F",...k})}),T&&(0,a.jsx)("div",{className:"inline-block absolute left-0 top-1/2 -translate-y-1/2 pl-3",children:T}),(0,a.jsx)("input",{type:h,className:(0,i.y)(l.jV[y],l.q9[g],(0,l.yZ)(!!C||!!T),(0,l.g$)(!!I||!!E,!!w),R,v,"truncate"),value:P,onChange:handleOnChange,ref:n,autoFocus:S,...D}),I&&(0,a.jsx)("div",{className:"absolute w-auto z-10 right-0 top-1/2 -translate-y-1/2 pr-4",children:(0,a.jsx)("div",{className:"transition-all duration-100 ".concat(!w||w&&(0,l.O2)(z)?"delay-100":"translate-y-full opacity-0"),children:(0,a.jsx)(I,{size:20,color:"#0F0F0F",...O})})}),E&&(0,a.jsx)("div",{className:"absolute w-auto z-10 right-0 top-1/2 -translate-y-1/2 pr-4",children:(0,a.jsx)("div",{className:"transition-all duration-100 ".concat(!w||w&&(0,l.O2)(z)?"delay-100":"translate-y-full opacity-0"),children:E})}),(0,a.jsx)("div",{className:"absolute h-5 w-auto z-10 right-0 top-1/2 -translate-y-1/2 pr-4",children:w&&(0,a.jsx)(Input_ClearButton,{value:z,onClick:()=>{var e;let n={...F.current,target:{...null===(e=F.current)||void 0===e?void 0:e.target,value:""}};handleOnChange(n)},...j})})]}),x&&(0,a.jsx)("div",{className:"pt-1",children:(0,a.jsx)(c.Z,{status:g,..._,children:x})})]})});var f=u},12129:function(e,n,r){r.d(n,{vQ:function(){return Input_OtpInput},Mj:function(){return c},Jc:function(){return a.Z},Fz:function(){return b}});var a=r(97029),s=r(27573),l=r(7653),i=r(27642),d=r(26655);let ClearIconLarge=()=>(0,s.jsx)(d.DTb,{size:24}),o=(0,l.forwardRef)((e,n)=>{let{className:r,wrapperProps:l,onChange:d,...o}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(a.Z,{isBordered:!1,className:"bg-yd-grey-light-2 hover:bg-yd-grey-light-3 rounded-[1.25rem] text-yd-body-2 focus:border-0 ".concat(r?" ".concat(r):""),LeadingIcon:i.wn,clearButtonProps:{Icon:ClearIconLarge},ref:n,...o,wrapperProps:l,onChange:d})})});var c=o,u=r(99577),f=r(88742),x=r(96493),h=r(41709);let m=(0,l.forwardRef)((e,n)=>{let{label:r,helperText:a,wrapperProps:l,isFullWidth:i,className:d,status:o="default",size:c="medium",rows:m=2,helperTextProps:b,...v}=e;(0,f.PN)(d);let g=(0,f.V2)(i);return(0,s.jsxs)(s.Fragment,{children:[r&&(0,s.jsx)("div",{className:"pb-2",children:(0,s.jsx)(h.Z,{htmlElementTag:"span",className:"text-yd-heading-8 text-yd-gray-160",children:r})}),(0,s.jsx)("div",{className:"relative group inline-block".concat(g),...l,children:(0,s.jsx)("textarea",{className:(0,u.y)("whitespace-pre-wrap overflow-auto outline-none -mb-1.5 px-4",f.tR[c],f.q9[o],g,d),rows:m,ref:n,...v})}),a&&(0,s.jsx)("div",{className:"pt-1",children:(0,s.jsx)(x.Z,{status:o,...b,children:a})})]})});var b=m,v=r(62654),Input_OtpInput=e=>{let{isInputNum:n=!0,numInputs:r=6,...a}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(v.Z,{isInputNum:n,numInputs:r,inputStyle:"px-2 border-b-2 border-yd-line-normal text-yd-heading-3 text-yd-typo-title mr-3 rounded-none",focusStyle:"border-yd-primary-hover",...a})})}},88742:function(e,n,r){r.d(n,{O2:function(){return isEmptyValue},PN:function(){return getCustomClassName},V2:function(){return getFullWidthClassName},g$:function(){return inputPaddingRightV2},jV:function(){return a},q9:function(){return l},tR:function(){return s},yZ:function(){return inputPaddingLeftV2}});let getCustomClassName=e=>e?" ".concat(e):"",getFullWidthClassName=e=>e?" w-full":"",isEmptyValue=e=>!e||"string"==typeof e&&""===e.trim(),a={"extra-small":"input__xs",small:"input__s",medium:"input__m",large:"input__l","extra-large":"input__xl"},s={"extra-small":"textarea__xs",small:"textarea__s",medium:"textarea__m",large:"textarea__l","extra-large":"textarea__xl"},l={default:"input--default",success:"input--success",error:"input--error"},inputPaddingLeftV2=e=>e?"pl-12":"pl-4",inputPaddingRightV2=(e,n)=>e||n?"pr-12":"pr-4"},29280:function(e,n,r){r.d(n,{i:function(){return useWindowSize}});var a=r(7653);function useWindowSize(){let[e,n]=(0,a.useState)([0,0]);function updateSize(){n([window.innerWidth,window.innerHeight])}return(0,a.useLayoutEffect)(()=>(updateSize(),window.addEventListener("resize",updateSize),()=>window.removeEventListener("resize",updateSize)),[]),e}},9585:function(e,n,r){r.d(n,{O:function(){return k}});var a,s,l,i=r(7653),d=r(52690),o=r(45636),c=r(26788),u=r(86011),f=r(28705),x=r(34003),h=r(88572),m=r(86761),b=r(57168),v=r(12754);function p({onFocus:e}){let[n,r]=(0,i.useState)(!0);return n?i.createElement(v._,{as:"button",type:"button",features:v.A.Focusable,onFocus:n=>{n.preventDefault();let a,s=50;a=requestAnimationFrame(function t(){if(s--<=0){a&&cancelAnimationFrame(a);return}if(e()){r(!1),cancelAnimationFrame(a);return}a=requestAnimationFrame(t)})}}):null}var g=r(94791),y=r(49569),w=r(90158);let A=i.createContext(null);function stable_collection_C({children:e}){let n=i.useRef({groups:new Map,get(e,n){var r;let a=this.groups.get(e);a||(a=new Map,this.groups.set(e,a));let s=null!=(r=a.get(n))?r:0;return a.set(n,s+1),[Array.from(a.keys()).indexOf(n),function(){let e=a.get(n);e>1?a.set(n,e-1):a.delete(n)}]}});return i.createElement(A.Provider,{value:n},e)}function stable_collection_d(e){let n=i.useContext(A);if(!n)throw Error("You must wrap your component in a <StableCollection>");let r=function(){var e,n,r;let a=null!=(r=null==(n=null==(e=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)?void 0:e.ReactCurrentOwner)?void 0:n.current)?r:null;if(!a)return Symbol();let s=[],l=a;for(;l;)s.push(l.index),l=l.return;return"$."+s.join(".")}(),[a,s]=n.current.get(e,r);return i.useEffect(()=>s,[]),a}var j=((a=j||{})[a.Forwards=0]="Forwards",a[a.Backwards=1]="Backwards",a),_=((s=_||{})[s.Less=-1]="Less",s[s.Equal=0]="Equal",s[s.Greater=1]="Greater",s),P=((l=P||{})[l.SetSelectedIndex=0]="SetSelectedIndex",l[l.RegisterTab=1]="RegisterTab",l[l.UnregisterTab=2]="UnregisterTab",l[l.RegisterPanel=3]="RegisterPanel",l[l.UnregisterPanel=4]="UnregisterPanel",l);let N={0(e,n){var r;let a=(0,f.z2)(e.tabs,e=>e.current),s=(0,f.z2)(e.panels,e=>e.current),l=a.filter(e=>{var n;return!(null!=(n=e.current)&&n.hasAttribute("disabled"))}),i={...e,tabs:a,panels:s};if(n.index<0||n.index>a.length-1){let r=(0,c.E)(Math.sign(n.index-e.selectedIndex),{[-1]:()=>1,0:()=>(0,c.E)(Math.sign(n.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});return 0===l.length?i:{...i,selectedIndex:(0,c.E)(r,{0:()=>a.indexOf(l[0]),1:()=>a.indexOf(l[l.length-1])})}}let d=a.slice(0,n.index),o=[...a.slice(n.index),...d].find(e=>l.includes(e));if(!o)return i;let u=null!=(r=a.indexOf(o))?r:e.selectedIndex;return -1===u&&(u=e.selectedIndex),{...i,selectedIndex:u}},1(e,n){var r;if(e.tabs.includes(n.tab))return e;let a=e.tabs[e.selectedIndex],s=(0,f.z2)([...e.tabs,n.tab],e=>e.current),l=null!=(r=s.indexOf(a))?r:e.selectedIndex;return -1===l&&(l=e.selectedIndex),{...e,tabs:s,selectedIndex:l}},2:(e,n)=>({...e,tabs:e.tabs.filter(e=>e!==n.tab)}),3:(e,n)=>e.panels.includes(n.panel)?e:{...e,panels:(0,f.z2)([...e.panels,n.panel],e=>e.current)},4:(e,n)=>({...e,panels:e.panels.filter(e=>e!==n.panel)})},T=(0,i.createContext)(null);function M(e){let n=(0,i.useContext)(T);if(null===n){let n=Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,M),n}return n}T.displayName="TabsDataContext";let C=(0,i.createContext)(null);function q(e){let n=(0,i.useContext)(C);if(null===n){let n=Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,q),n}return n}function fe(e,n){return(0,c.E)(n.type,N,e,n)}C.displayName="TabsActionsContext";let E=i.Fragment,I=d.AN.RenderStrategy|d.AN.Static,k=Object.assign((0,d.yV)(function(e,n){var r,a;let s=(0,o.M)(),{id:l=`headlessui-tabs-tab-${s}`,...b}=e,{orientation:v,activation:A,selectedIndex:j,tabs:_,panels:P}=M("Tab"),N=q("Tab"),T=M("Tab"),C=(0,i.useRef)(null),E=(0,h.T)(C,n);(0,x.e)(()=>N.registerTab(C),[N,C]);let I=stable_collection_d("tabs"),k=_.indexOf(C);-1===k&&(k=I);let O=k===j,S=(0,g.z)(e=>{var n;let r=e();if(r===f.fE.Success&&"auto"===A){let e=null==(n=(0,w.r)(C))?void 0:n.activeElement,r=T.tabs.findIndex(n=>n.current===e);-1!==r&&N.change(r)}return r}),D=(0,g.z)(e=>{let n=_.map(e=>e.current).filter(Boolean);if(e.key===u.R.Space||e.key===u.R.Enter){e.preventDefault(),e.stopPropagation(),N.change(k);return}switch(e.key){case u.R.Home:case u.R.PageUp:return e.preventDefault(),e.stopPropagation(),S(()=>(0,f.jA)(n,f.TO.First));case u.R.End:case u.R.PageDown:return e.preventDefault(),e.stopPropagation(),S(()=>(0,f.jA)(n,f.TO.Last))}if(S(()=>(0,c.E)(v,{vertical:()=>e.key===u.R.ArrowUp?(0,f.jA)(n,f.TO.Previous|f.TO.WrapAround):e.key===u.R.ArrowDown?(0,f.jA)(n,f.TO.Next|f.TO.WrapAround):f.fE.Error,horizontal:()=>e.key===u.R.ArrowLeft?(0,f.jA)(n,f.TO.Previous|f.TO.WrapAround):e.key===u.R.ArrowRight?(0,f.jA)(n,f.TO.Next|f.TO.WrapAround):f.fE.Error}))===f.fE.Success)return e.preventDefault()}),F=(0,i.useRef)(!1),R=(0,g.z)(()=>{var e;F.current||(F.current=!0,null==(e=C.current)||e.focus(),N.change(k),(0,y.Y)(()=>{F.current=!1}))}),z=(0,g.z)(e=>{e.preventDefault()}),L=(0,i.useMemo)(()=>({selected:O}),[O]),V={ref:E,onKeyDown:D,onMouseDown:z,onClick:R,id:l,role:"tab",type:(0,m.f)(e,C),"aria-controls":null==(a=null==(r=P[k])?void 0:r.current)?void 0:a.id,"aria-selected":O,tabIndex:O?0:-1};return(0,d.sY)({ourProps:V,theirProps:b,slot:L,defaultTag:"button",name:"Tabs.Tab"})}),{Group:(0,d.yV)(function(e,n){let{defaultIndex:r=0,vertical:a=!1,manual:s=!1,onChange:l,selectedIndex:o=null,...c}=e,u=a?"vertical":"horizontal",m=s?"manual":"auto",v=null!==o,y=(0,h.T)(n),[w,A]=(0,i.useReducer)(fe,{selectedIndex:null!=o?o:r,tabs:[],panels:[]}),j=(0,i.useMemo)(()=>({selectedIndex:w.selectedIndex}),[w.selectedIndex]),_=(0,b.E)(l||(()=>{})),P=(0,b.E)(w.tabs),N=(0,i.useMemo)(()=>({orientation:u,activation:m,...w}),[u,m,w]),I=(0,g.z)(e=>(A({type:1,tab:e}),()=>A({type:2,tab:e}))),k=(0,g.z)(e=>(A({type:3,panel:e}),()=>A({type:4,panel:e}))),O=(0,g.z)(e=>{S.current!==e&&_.current(e),v||A({type:0,index:e})}),S=(0,b.E)(v?e.selectedIndex:w.selectedIndex),D=(0,i.useMemo)(()=>({registerTab:I,registerPanel:k,change:O}),[]);return(0,x.e)(()=>{A({type:0,index:null!=o?o:r})},[o]),(0,x.e)(()=>{if(void 0===S.current||w.tabs.length<=0)return;let e=(0,f.z2)(w.tabs,e=>e.current);e.some((e,n)=>w.tabs[n]!==e)&&O(e.indexOf(w.tabs[S.current]))}),i.createElement(stable_collection_C,null,i.createElement(C.Provider,{value:D},i.createElement(T.Provider,{value:N},N.tabs.length<=0&&i.createElement(p,{onFocus:()=>{var e,n;for(let r of P.current)if((null==(e=r.current)?void 0:e.tabIndex)===0)return null==(n=r.current)||n.focus(),!0;return!1}}),(0,d.sY)({ourProps:{ref:y},theirProps:c,slot:j,defaultTag:E,name:"Tabs"}))))}),List:(0,d.yV)(function(e,n){let{orientation:r,selectedIndex:a}=M("Tab.List"),s=(0,h.T)(n);return(0,d.sY)({ourProps:{ref:s,role:"tablist","aria-orientation":r},theirProps:e,slot:{selectedIndex:a},defaultTag:"div",name:"Tabs.List"})}),Panels:(0,d.yV)(function(e,n){let{selectedIndex:r}=M("Tab.Panels"),a=(0,h.T)(n),s=(0,i.useMemo)(()=>({selectedIndex:r}),[r]);return(0,d.sY)({ourProps:{ref:a},theirProps:e,slot:s,defaultTag:"div",name:"Tabs.Panels"})}),Panel:(0,d.yV)(function(e,n){var r,a,s,l;let c=(0,o.M)(),{id:u=`headlessui-tabs-panel-${c}`,tabIndex:f=0,...m}=e,{selectedIndex:b,tabs:g,panels:y}=M("Tab.Panel"),w=q("Tab.Panel"),A=(0,i.useRef)(null),j=(0,h.T)(A,n);(0,x.e)(()=>w.registerPanel(A),[w,A]);let _=stable_collection_d("panels"),P=y.indexOf(A);-1===P&&(P=_);let N=P===b,T=(0,i.useMemo)(()=>({selected:N}),[N]),C={ref:j,id:u,role:"tabpanel","aria-labelledby":null==(a=null==(r=g[P])?void 0:r.current)?void 0:a.id,tabIndex:N?f:-1};return N||null!=(s=m.unmount)&&!s||null!=(l=m.static)&&l?(0,d.sY)({ourProps:C,theirProps:m,slot:T,defaultTag:"div",features:I,visible:N,name:"Tabs.Panel"}):i.createElement(v._,{as:"span",...C})})})}}]);